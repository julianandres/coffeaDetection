function [BW,maskedImage] = segmentImageJuly15(RGB)
%segmentImage Segment image using auto-generated code from imageSegmenter app
%  [BW,MASKEDIMAGE] = segmentImage(RGB) segments image RGB using
%  auto-generated code from the imageSegmenter app. The final segmentation
%  is returned in BW, and a masked image is returned in MASKEDIMAGE.

% Auto-generated by imageSegmenter app on 25-Jul-2021
%----------------------------------------------------


% Convert RGB image into L*a*b* color space.
X = rgb2lab(RGB);

% Create empty mask.
BW = false(size(X,1),size(X,2));

% Draw ROIs
%VALORES IMAGEN COMPLETA SAN ANTONIO 7 ANIOS
xPos = [2162.6982 2300.2928 2544.9054 6764.4730 6733.8964 6718.6081 6718.6081 6550.4369 6550.4369 6443.4189 6321.1126 3905.5631 2147.4099];
yPos = [2438.9820 4976.8378 7529.9820 7453.5405 6016.4414 6016.4414 6001.1532 4564.0541 4548.7658 3203.3964 1873.3153 2148.5045 2362.5405];

%VALORES IMAGEN MINIMIZADA SAN ANTONIO 7 ANIOS
xPos = [2629.7642 3169.5516 3205.8398 5505.6063 5342.3093 3487.0736 3523.3618 2502.7554 2502.7554 2516.3635 2517.3532 2518.0545 2519.0000 2520.0000 2521.0000 2522.0000 2523.0000 2524.0000 2525.0000 2526.0000 2527.0000 2528.0000 2529.0000 2530.0000 2531.0000 2532.0000 2533.0000 2534.0000 2535.0000 2536.0000 2537.0000 2538.0000 2539.0000 2540.0000 2541.0000 2542.0000 2543.0000 2544.0000 2545.0000 2546.0000 2547.0000 2548.0000 2549.0000 2550.0000 2551.0000 2552.0000 2553.0000 2554.0000 2555.0000 2556.0000 2557.0000 2558.0000 2559.0000 2560.0000 2561.0000 2562.0000 2563.0000 2564.0000 2565.0000 2566.0000 2567.0000 2568.0000 2569.0000 2570.0000 2571.0000 2572.0000 2573.0000 2574.0000 2575.0000 2576.0000 2577.0000 2578.0000 2579.0000 2580.0000 2581.0000 2582.0000 2583.0000 2584.0000 2585.0000 2586.0000 2587.0000 2588.0000 2589.0000 2590.0000 2591.0000 2592.0000 2593.0000 2594.0000 2595.0000 2596.0000 2597.0000 2598.0000 2599.0000 2600.0000 2601.0000 2602.0000 2603.0000 2604.0000 2605.0000 2606.0000 2607.0000 2608.0000 2609.0000 2609.9455 2610.7013 2611.2442 2611.7013];
yPos = [6775.8499 6766.7778 7469.8622 7429.0380 5034.0149 5201.8479 5959.3647 5986.5809 5977.5088 6780.3859 6778.7013 6778.3532 6778.4077 6778.9455 6779.2936 6778.8910 6778.1090 6777.5974 6777.5116 6777.4884 6777.4026 6777.0000 6776.6519 6776.8103 6777.2987 6778.0545 6778.9455 6779.5923 6779.6468 6779.2442 6778.7013 6778.0000 6777.2987 6776.7013 6775.9455 6775.1090 6774.7064 6775.0000 6775.4026 6775.5429 6775.8103 6776.2987 6776.9455 6777.3481 6777.2987 6777.4077 6777.9455 6778.3481 6778.1897 6777.7013 6777.0000 6776.3532 6776.0545 6776.0545 6776.2442 6776.4571 6776.5429 6776.7013 6776.5923 6775.9455 6775.0545 6774.2987 6773.7558 6773.3532 6773.3532 6773.6468 6773.5923 6772.9455 6772.1090 6771.5974 6771.4026 6771.0000 6770.6519 6770.7013 6770.7013 6770.5429 6770.4026 6770.0000 6769.5974 6769.5116 6769.5429 6769.7558 6769.9455 6769.9455 6769.6468 6768.9455 6768.1090 6767.5974 6767.5116 6767.5974 6768.1090 6768.8910 6769.4026 6769.5429 6769.7013 6769.6468 6769.2442 6768.7013 6768.0545 6767.6519 6767.7013 6767.6468 6767.2442 6766.8103 6766.5974 6766.7558 6766.9455];

m = size(BW, 1);
n = size(BW, 2);
addedRegion = poly2mask(xPos, yPos, m, n);
BW = BW | addedRegion;

% Create masked image.
maskedImage = RGB;
maskedImage(repmat(~BW,[1 1 3])) = 0;
end

